/*! woocommerce-name-your-price 2.9.2 */

jQuery(document).ready(function(h){function g(o,e,i){void 0===e&&(e=""),void 0===i&&(i=!1);var a=i?woocommerce_nyp_params.currency_format:"%v";return accounting.formatMoney(o,{symbol:e,decimal:woocommerce_nyp_params.currency_format_decimal_sep,thousand:woocommerce_nyp_params.currency_format_thousand_sep,precision:woocommerce_nyp_params.currency_format_num_decimals,format:a}).trim()}function w(o){return Math.abs(parseFloat(accounting.unformat(o,woocommerce_nyp_params.currency_format_decimal_sep)))}h.fn.woocommerce_nyp_update=function(){if(h(this).on("woocommerce-nyp-update",function(){var o=h(this),e=o.find(".nyp"),i=o.find(".nyp-input"),a=o.find(":submit"),r=o.find(".ajax_add_to_cart"),n=i.val(),t=o.find(".woocommerce-nyp-message");t.length||h('<div class="woocommerce-nyp-message woocommerce-error"></div>').hide().prependTo(e);var m=e.data("hide-minimum")?e.data("hide-minimum-error"):e.data("minimum-error"),c="%%MINIMUM%%",d=!1,p="",s=w(n),u=parseFloat(e.data("min-price")),_=parseFloat(e.data("max-price")),l=parseFloat(e.data("annual-minimum")),f=o.find(".nyp-period"),y=f.val();0<l?(form_annulualized_price=s*woocommerce_nyp_params.annual_price_factors[y],form_annulualized_price<l&&(p=g(d=l/woocommerce_nyp_params.annual_price_factors[y],woocommerce_nyp_params.currency_format_symbol,!0)+" / "+f.find('option[value="'+y+'"]').text())):s<u?p=g(d=u,woocommerce_nyp_params.currency_format_symbol,!0):_<s&&(d=_,m=e.data("maximum-error"),c="%%MAXIMUM%%",p=g(_,woocommerce_nyp_params.currency_format_symbol,!0)),""!=h.trim(n)&&i.val(g(s)),r.length&&r.data(i.attr("name"),g(s)),d?(a.prop("disabled",!0).addClass("disabled"),m=m.replace(c,p),t.html(m).slideDown(function(){i.focus()})):(a.prop("disabled",!1).removeClass("disabled"),t.slideUp(),h(this).find("#product-addons-total").data("price",s),o.trigger("woocommerce-product-addons-update"),e.data("price",s),o.trigger("woocommerce-nyp-updated-item"),h("body").trigger("woocommerce-nyp-updated"))}),h(this).on("change",".nyp-input, .nyp-period",function(){h(this).closest(".cart, .nyp-product").trigger("woocommerce-nyp-update")}),h(this).find(".nyp-input").trigger("change"),h(this).hasClass("variations_form")){var o=h(this),t=h(this).find("button.single_add_to_cart_button"),m=h(this).find(".nyp"),c=m.find(".nyp-input"),d=m.find(".minimum-price"),p=m.find(".subscription-details"),s=o.find(".woocommerce-nyp-message"),u=t.html();m.hide(),d.hide(),o.on("found_variation",function(o,e){if(t.attr("disabled",!1),s.slideUp(),null!=typeof e.is_nyp&&1==e.is_nyp){t.html(e.add_to_cart_text);var i=void 0!==e.display_price?e.display_price:"",a=void 0!==e.minimum_price?e.minimum_price:"",r=void 0!==e.maximum_price?e.maximum_price:"";""!=h.trim(i)?c.val(g(i)):c.val(""),p.length&&e.subscription_terms&&p.html(e.subscription_terms),e.minimum_price_html?d.html(e.minimum_price_html).show():d.hide(),m.data("min-price",a).slideDown(),m.data("max-price",r),m.data("hide-minimum",e.hide_minimum);var n=w(c.val());h(this).find("#product-addons-total").data("price",n),h(this).trigger("woocommerce-product-addons-update")}else t.html(u),m.slideUp()}).on("reset_image",function(o){t.html(u),t.attr("disabled",!1),m.slideUp(),s.hide()}).on("click",".reset_variations",function(o){t.html(u),t.attr("disabled",!1),m.slideUp(),s.hide()}),h(this).find(".variations select").trigger("change")}},h("body").on("quick-view-displayed",function(){h("body").find(".cart:not(.cart_group)").each(function(){h(this).woocommerce_nyp_update()})}),h("body .component").on("wc-composite-component-loaded",function(){h(this).find(".cart:not(.cart_group)").each(function(){h(this).woocommerce_nyp_update()})}),h("body").find(".cart:not(.cart_group, .grouped_form)").each(function(){h(this).woocommerce_nyp_update()}),h("body .grouped_form").find(".nyp-product").each(function(){h(this).woocommerce_nyp_update()})});